<template>
  <div id="app">

    <v-app id="inspire">
      <v-toolbar dark color="primary">
        <v-toolbar-side-icon></v-toolbar-side-icon>
        <v-toolbar-title class="white--text">Title</v-toolbar-title>
        <v-spacer></v-spacer>
        <v-btn icon>
          <v-icon>more_vert</v-icon>
        </v-btn>
      </v-toolbar>

      <div class="color-header">
        <Icon :color="selected" style="width: auto;">
          vue-js-grid
        </Icon>
      </div>
      
      <grid
        :center="false"
        :draggable="true"
        :sortable="true"
        :items="colors"
        :height="80"
        :width="80"
        @change="change"
        @remove="remove"
        @click="click"
        @sort="sort">
        <template slot="cell" scope="props">
          <Icon :color="props.item"
                :index="props.index"
                :with-button="true"
                @remove="props.remove()"/>
        </template>
      </grid>
      
      <router-view/>
    </v-app>
    


  </div>
</template>


<script>
import Icon from './Icon.vue'
import { generateRGBColors } from './util'
import WebFontLoader from 'webfontloader'


export default {
  name: 'App',
    components: {
    Icon
  },
  data () {
    let colors = generateRGBColors(20)

    return {
      colors,
      selected: null
    }
  },
  
  methods: {
    click ({ items, index }) {
      let value = items.find(v => v.index === index)
      this.selected = value.item

      console.log(this.selected)
    },

    change (event) {
      console.log('change', event)
    },

    remove (event) {
      console.log('remove', event)
    },

    sort (event) {
      console.log('sort', event)
    }
  }

  
}
</script>

<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}

.color-header {
  position: relative;
  padding: 10px 0;
  box-sizing: border-box;
}
</style>
